# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Shared Hosting API

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
python create_env.py
```

## –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## –®–∞–≥ 3: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∏ RabbitMQ –∑–∞–ø—É—â–µ–Ω—ã

### PostgreSQL:
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
CREATE DATABASE hosting;
-- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
CREATE USER postgres WITH PASSWORD 'admin';
GRANT ALL PRIVILEGES ON DATABASE hosting TO postgres;
```

### RabbitMQ:
```bash
# Windows
rabbitmq-server

# Linux/macOS
sudo systemctl start rabbitmq-server
```

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ API

```bash
python run.py
```

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

```bash
python -m app.tasks.worker
```

## –ì–æ—Ç–æ–≤–æ! üéâ

- API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs
- –¢–µ—Å—Ç–æ–≤—ã–π endpoint: http://localhost:8000/test-email?to=test@example.com

## üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints:

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–∫–∫–∞—É–Ω—Ç—ã
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/login` - –í—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞)
- `POST /auth/logout` - –í—ã—Ö–æ–¥
- `GET /users/me` - –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /users/me` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `GET /users/{id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

### üåê –î–æ–º–µ–Ω—ã
- `GET /domains` - –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /domains` - –ó–∞–∫–∞–∑/–ø—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞
- `GET /domains/{id}` - –î–µ—Ç–∞–ª–∏ –¥–æ–º–µ–Ω–∞
- `DELETE /domains/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- `POST /domains/{id}/dns` - –°–æ–∑–¥–∞–Ω–∏–µ DNS –∑–∞–ø–∏—Å–∏
- `GET /domains/{id}/dns` - –°–ø–∏—Å–æ–∫ DNS –∑–∞–ø–∏—Å–µ–π

### üè† –•–æ—Å—Ç–∏–Ω–≥/–°–∞–π—Ç—ã
- `GET /hosting/sites` - –°–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤
- `POST /hosting/sites` - –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞
- `GET /hosting/sites/{id}` - –î–µ—Ç–∞–ª–∏ —Å–∞–π—Ç–∞
- `DELETE /hosting/sites/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞
- `POST /hosting/sites/{id}/ftp` - –°–æ–∑–¥–∞–Ω–∏–µ FTP –¥–æ—Å—Ç—É–ø–∞
- `GET /hosting/sites/{id}/ftp` - –°–ø–∏—Å–æ–∫ FTP –¥–æ—Å—Ç—É–ø–æ–≤
- `POST /hosting/sites/{id}/db` - –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
- `GET /hosting/sites/{id}/db` - –°–ø–∏—Å–æ–∫ –ë–î —Å–∞–π—Ç–∞

### üí≥ –¢–∞—Ä–∏—Ñ—ã
- `GET /plans` - –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤
- `POST /plans` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ (–∞–¥–º–∏–Ω)
- `GET /plans/{id}` - –î–µ—Ç–∞–ª–∏ —Ç–∞—Ä–∏—Ñ–∞
- `PATCH /plans/{id}` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ (–∞–¥–º–∏–Ω)
- `DELETE /plans/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞

### üí∞ –ë–∏–ª–ª–∏–Ω–≥
- `GET /billing/history` - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `POST /billing/pay` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `GET /billing/balance` - –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞
- `GET /billing/invoices` - –°–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤
- `GET /billing/invoice/{id}` - –î–µ—Ç–∞–ª–∏ —Å—á–µ—Ç–∞

### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `GET /notifications` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `PATCH /notifications/{id}/read` - –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
- `PATCH /notifications/read-all` - –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏
- `GET /notifications/unread-count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

## –û—Ü–µ–Ω–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏: 10/10

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –ø–ª–∞–Ω—É
- ‚úÖ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (hosting/postgres/admin)
- ‚úÖ SQLAlchemy –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ RabbitMQ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ FastAPI —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é
- ‚úÖ Pydantic —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ Producer/Consumer –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä API endpoints
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ –¥–æ–º–µ–Ω–∞–º 